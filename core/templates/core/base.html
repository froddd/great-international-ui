{% extends 'directory_components/base.html' %}

{% load static from staticfiles %}
{% load i18n %}
{% get_current_language_bidi as LANGUAGE_BIDI %}
{% get_current_language as LANGUAGE %}

{% block head_title %}{{ international_home_link.label }}{% endblock %}

{% load static_absolute international_header from directory_components %}

{% block head_css %}
    {{ block.super }}
    <link href="{% static 'directory_components/vendor/flag-icons/css/flag-icon.min.css' %}" media="all"
          rel="stylesheet"/>
    <link rel="stylesheet" href="{% static 'core/styles/main.css' %}">
{% endblock %}

{% block header_js %}
    <script src="{% static 'directory_components/js/dit.responsive.js' %}"></script>
    <script src="{% static 'directory_components/js/dit.utils.js' %}"></script>
    <script src="{% static 'directory_components/js/dit.components.countrySelector.js' %}"></script>
    <script src="{% static 'directory_components/js/dit.components.languageSelectorDropdown.js' %}"></script>
    <script src="{% static 'directory_components/js/dit.components.header.js' %}"></script>
    <script src="{% static 'directory_components/js/dit.components.greatInternationalHeader.js' %}"></script>
{% endblock %}

{% block head_other %}{% endblock %}

{% block head_sharing_metadata %}
    {% if request %}
        <meta property="og:image" content="
                {% block meta_sharing_thumbnail %}{% static_absolute 'directory_components/images/opengraph-image.png' %}{% endblock %}">
        <meta property="og:url" content="{{ request.build_absolute_uri }}"/>
    {% endif %}
{% endblock %}

{% block body_header %}
    {% include 'atlas/components/header.html' with site_section=header_section site_sub_section=header_sub_section %}
{% endblock %}

{% block feedback_reporter %}
    <section dir="ltr" class="error-reporting">
        <div class="container">
            <a id="error-reporting-section-contact-us" href="{{ services_urls.feedback }}"
               target="_blank">{% trans 'Is there anything wrong on this page?' %}</a>
        </div>
    </section>
{% endblock %}

{% block body_footer %}
    {% include 'atlas/components/footer.html' %}
{% endblock %}

{% block body_js %}
    <script>
        function atlasToggleReveal(buttonEl, state) {
            const openState = typeof state !== 'undefined'
                ? state
                : buttonEl.getAttribute('aria-expanded') !== 'true'
            const expandedAttr = openState ? 'true' : 'false'
            const targetEl = document.querySelector('#' + buttonEl.getAttribute('aria-controls'));
            buttonEl.setAttribute('aria-expanded', expandedAttr);
            targetEl.setAttribute('aria-expanded', expandedAttr);
        }

        document.querySelectorAll('[data-reveal-button]').forEach(function (el) {
            atlasToggleReveal(el, false)
            el.addEventListener('click', function (event) {
                atlasToggleReveal(event.target);
            })
        })
    </script>

    {{ block.super }}
{% endblock %}
